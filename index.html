<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PGA Prompt Generator Assistant</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom Font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        /* Dark Navy Palette */
        :root {
            --color-background: #10192A; 
            --color-card: #1C263A; 
            --color-primary: #6366F1; /* Indigo */
            --color-text-light: #F3F4F6; /* Light Gray */
            --color-text-dim: #9CA3AF; /* Muted Gray */
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-background);
            color: var(--color-text-light);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 2rem 0;
        }

        /* Enforce White Text on Inputs/Selects for Readability */
        input[type="text"], select, textarea, option {
            color: #FFFFFF !important; /* Forces white text to override browser defaults */
            background-color: rgba(0, 0, 0, 0.4); /* Slightly transparent dark background for input */
            border-color: #374151;
            transition: all 0.2s;
        }

        input[type="text"]::placeholder, textarea::placeholder {
            color: #A0AEC0 !important; /* Brightened placeholder text */
        }

        input[type="text"]:focus, select:focus, textarea:focus {
            border-color: var(--color-primary);
            box-shadow: 0 0 0 1px var(--color-primary);
        }

        .confirmation-message {
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        .error-message {
            color: #F87171; /* Red */
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <div id="pga-app" class="w-full max-w-4xl bg-white bg-opacity-5 backdrop-blur-sm p-6 sm:p-8 rounded-xl shadow-2xl border border-indigo-700/50">
        
        <!-- HEADER -->
        <header class="text-center mb-10">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-white">Prompt Generator Assistant (PGA)</h1>
            <p class="text-indigo-300 mt-1 text-lg">Structured prompt creation for generative AI.</p>
        </header>

        <main>
            <!-- Step 1: Output Goal -->
            <section id="step-1">
                <h2 class="text-2xl font-bold mb-4 text-indigo-400">Step 1: Determine the Output Goal</h2>
                <p class="text-gray-300 mb-6">First, decide if you are creating a static image or a scene with required motion.</p>
                
                <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4">
                    <button onclick="setGoal('Image')" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition duration-200" id="goal-image">
                        üñºÔ∏è Static Image/Illustration
                    </button>
                    <button onclick="setGoal('Scene/Video')" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition duration-200" id="goal-scene">
                        üé¨ Scene/Video (Motion Required)
                    </button>
                </div>

                <p id="goal-message" class="mt-4 text-center font-medium text-lg hidden"></p>
            </section>

            <hr class="border-t border-indigo-500/30 my-8">

            <!-- Step 2: Define Parameters -->
            <section id="step-2" class="hidden">
                <h2 class="text-2xl font-bold mb-6 text-indigo-400">Step 2: Define Parameters (<span id="step-2-goal"></span>)</h2>
                
                <form id="prompt-form" onsubmit="generatePrompt(event)" class="space-y-6">

                    <!-- 1. Subject/Character(s) -->
                    <div>
                        <label for="subject" class="block text-xl font-medium mb-1 text-gray-200">1. Subject/Character(s) <span class="text-red-400">*</span></label>
                        <p class="text-gray-400 text-sm mb-2">Choose the main subject(s). Be descriptive.</p>
                        <select id="subject" class="w-full p-3 border rounded-lg shadow-inner focus:ring focus:ring-indigo-500 appearance-none bg-no-repeat bg-[right_0.75rem_center] bg-[url('data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M10%2014l-4-4h8l-4%204z%22%20fill%3D%22%236366F1%22%2F%3E%3C%2Fsvg%3E')]">
                            <option value="">‚Äî Select a Suggested Subject ‚Äî</option>
                            <option value="A stoic, elderly fisherman of East Asian descent">A stoic, elderly fisherman of East Asian descent</option>
                            <option value="A young woman of West African descent, a brilliant botanist">A young woman of West African descent, a brilliant botanist</option>
                            <option value="A non-binary person with brightly colored hair, a professional coder">A non-binary person with brightly colored hair, a professional coder</option>
                            <option value="A person in a futuristic military uniform, standing at attention">A person in a futuristic military uniform, standing at attention</option>
                            <option value="A majestic griffin with obsidian feathers and golden eyes">A majestic griffin with obsidian feathers and golden eyes</option>
                            <option value="A lone wolf howling at two moons on a frozen tundra">A lone wolf howling at two moons on a frozen tundra</option>
                            <option value="A child wearing a rusty antique diving helmet">A child wearing a rusty antique diving helmet</option>
                            <option value="A group of diverse teenagers on skateboards at dusk">A group of diverse teenagers on skateboards at dusk</option>
                            <option value="A sleek, black hydrogen-powered sports car">A sleek, black hydrogen-powered sports car</option>
                            <option value="An ancient, sentient clockwork automaton">An ancient, sentient clockwork automaton</option>
                            <option value="A young sorceress channeling raw elemental energy">A young sorceress channeling raw elemental energy</option>
                            <option value="A cybernetic samurai warrior in traditional armor">A cybernetic samurai warrior in traditional armor</option>
                            <option value="A seasoned desert nomad carrying a large staff">A seasoned desert nomad carrying a large staff</option>
                            <option value="A vibrant hummingbird hovering over a giant alien flower">A vibrant hummingbird hovering over a giant alien flower</option>
                            <option value="A mysterious figure wearing a wide-brimmed hat">A mysterious figure wearing a wide-brimmed hat</option>
                            <option value="A busy market vendor haggling over exotic goods">A busy market vendor haggling over exotic goods</option>
                            <option value="A pirate captain with a mechanical eye patch">A pirate captain with a mechanical eye patch</option>
                            <option value="A small, terrified kitten huddled in a dark corner">A small, terrified kitten huddled in a dark corner</option>
                        </select>
                        <input type="text" id="subject-custom" placeholder="... or type your own subject here" class="mt-2 w-full p-3 border rounded-lg shadow-inner">
                    </div>

                    <!-- 2. Action/State -->
                    <div>
                        <label for="action" class="block text-xl font-medium mb-1 text-gray-200">2. Action/State <span class="text-red-400">*</span></label>
                        <p class="text-gray-400 text-sm mb-2" id="action-instruction">What is the subject doing? (REQUIRED for Scene/Video)</p>
                        <select id="action" class="w-full p-3 border rounded-lg shadow-inner focus:ring focus:ring-indigo-500 appearance-none bg-no-repeat bg-[right_0.75rem_center] bg-[url('data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M10%2014l-4-4h8l-4%204z%22%20fill%3D%22%236366F1%22%2F%3E%3C%2Fsvg%3E')]">
                            <option value="">‚Äî Select a Suggested Action ‚Äî</option>
                            <option value="Running through a crowded street, looking back nervously">Running through a crowded street, looking back nervously</option>
                            <option value="Gently turning their head to look over their shoulder, smiling">Gently turning their head to look over their shoulder, smiling</option>
                            <option value="Sitting pensively by a window, watching the rain">Sitting pensively by a window, watching the rain</option>
                            <option value="Standing on the edge of a precipice, gazing into the distance">Standing on the edge of a precipice, gazing into the distance</option>
                            <option value="Floating peacefully in a dark, still body of water">Floating peacefully in a dark, still body of water</option>
                            <option value="Leaping across rooftops in a dynamic, heroic pose">Leaping across rooftops in a dynamic, heroic pose</option>
                            <option value="Receiving a cryptic transmission on an antique radio">Receiving a cryptic transmission on an antique radio</option>
                            <option value="Slowly drawing an ancient, glowing sword">Slowly drawing an ancient, glowing sword</option>
                            <option value="Working intently on a complex piece of clockwork machinery">Working intently on a complex piece of clockwork machinery</option>
                            <option value="Dancing wildly under bright, flashing disco lights">Dancing wildly under bright, flashing disco lights</option>
                            <option value="Reading an old, leather-bound book by candlelight">Reading an old, leather-bound book by candlelight</option>
                            <option value="Riding a futuristic hoverbike over a canyon">Riding a futuristic hoverbike over a canyon</option>
                            <option value="Hiding behind a stack of crates in a warehouse">Hiding behind a stack of crates in a warehouse</option>
                            <option value="Meditating amidst swirling desert sands">Meditating amidst swirling desert sands</option>
                            <option value="Drawing a complex equation on a foggy glass window">Drawing a complex equation on a foggy glass window</option>
                            <option value="Gazing upward at a meteor shower">Gazing upward at a meteor shower</option>
                            <option value="Washing their face with clear mountain spring water">Washing their face with clear mountain spring water</option>
                            <option value="Climbing a sheer, icy cliff face">Climbing a sheer, icy cliff face</option>
                        </select>
                        <input type="text" id="action-custom" placeholder="... or type your own action/state here" class="mt-2 w-full p-3 border rounded-lg shadow-inner">
                    </div>

                    <!-- 3. Scenery/Context -->
                    <div>
                        <label for="scenery" class="block text-xl font-medium mb-1 text-gray-200">3. Scenery/Context <span class="text-red-400">*</span></label>
                        <p class="text-gray-400 text-sm mb-2">Where and when is the subject located?</p>
                        <select id="scenery" class="w-full p-3 border rounded-lg shadow-inner focus:ring focus:ring-indigo-500 appearance-none bg-no-repeat bg-[right_0.75rem_center] bg-[url('data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M10%2014l-4-4h8l-4%204z%22%20fill%3D%22%236366F1%22%2F%3E%3C%2Fsvg%3E')]">
                            <option value="">‚Äî Select a Suggested Scenery ‚Äî</option>
                            <option value="A futuristic neon-drenched cityscape at midnight">A futuristic neon-drenched cityscape at midnight</option>
                            <option value="An ancient, overgrown temple ruin deep in a rainforest">An ancient, overgrown temple ruin deep in a rainforest</option>
                            <option value="A cozy, wood-paneled library during a heavy snowstorm">A cozy, wood-paneled library during a heavy snowstorm</option>
                            <option value="The vast, desolate landscape of a red desert planet">The vast, desolate landscape of a red desert planet</option>
                            <option value="The deck of a sailing ship on a stormy sea at dawn">The deck of a sailing ship on a stormy sea at dawn</option>
                            <option value="An abandoned space station orbiting a blue giant star">An abandoned space station orbiting a blue giant star</option>
                            <option value="A smoggy, Victorian cobbled alleyway at 3 AM">A smoggy, Victorian cobbled alleyway at 3 AM</option>
                            <option value="The inside of a bioluminescent cavern with glowing fungi">The inside of a bioluminescent cavern with glowing fungi</option>
                            <option value="A misty mountain peak overlooking a cloud inversion">A misty mountain peak overlooking a cloud inversion</option>
                            <option value="A quiet, sun-drenched cafe in Paris during the summer">A quiet, sun-drenched cafe in Paris during the summer</option>
                            <option value="A medieval marketplace bustling with vendors and knights">A medieval marketplace bustling with vendors and knights</option>
                            <option value="A deep sea trench with bizarre, fluorescent marine life">A deep sea trench with bizarre, fluorescent marine life</option>
                            <option value="A pristine Japanese Zen garden in autumn">A pristine Japanese Zen garden in autumn</option>
                            <option value="A massive, steampunk industrial factory">A massive, steampunk industrial factory</option>
                            <option value="A shimmering ice palace carved into a glacier">A shimmering ice palace carved into a glacier</option>
                            <option value="A crumbling, war-torn city square at twilight">A crumbling, war-torn city square at twilight</option>
                            <option value="A field of towering, iridescent wheat">A field of towering, iridescent wheat</option>
                            <option value="The brightly lit backstage of a jazz club">The brightly lit backstage of a jazz club</option>
                        </select>
                        <input type="text" id="scenery-custom" placeholder="... or type your own scenery/context here" class="mt-2 w-full p-3 border rounded-lg shadow-inner">
                    </div>

                    <!-- 4. Artistic Style/Medium -->
                    <div>
                        <label for="style" class="block text-xl font-medium mb-1 text-gray-200">4. Artistic Style/Medium <span class="text-red-400">*</span></label>
                        <p class="text-gray-400 text-sm mb-2">What is the desired aesthetic (e.g., medium, technique)?</p>
                        <select id="style" class="w-full p-3 border rounded-lg shadow-inner focus:ring focus:ring-indigo-500 appearance-none bg-no-repeat bg-[right_0.75rem_center] bg-[url('data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M10%2014l-4-4h8l-4%204z%22%20fill%3D%22%236366F1%22%2F%3E%3C%2Fsvg%3E')]">
                            <option value="">‚Äî Select a Primary Style ‚Äî</option>
                            <option value="Concept Art (Highly Detailed)">Concept Art (Highly Detailed)</option>
                            <option value="Oil Painting (Impressionist style)">Oil Painting (Impressionist style)</option>
                            <option value="Cyberpunk Film Noir">Cyberpunk Film Noir</option>
                            <option value="High-Detail CGI Render">High-Detail CGI Render</option>
                            <option value="Ghibli-Inspired Anime (Hand-drawn look)">Ghibli-Inspired Anime (Hand-drawn look)</option>
                            <option value="Charcoal and Graphite Sketch">Charcoal and Graphite Sketch</option>
                            <option value="Digital Illustration (Hyper-realistic)">Digital Illustration (Hyper-realistic)</option>
                            <option value="Ukiyo-e Woodblock Print">Ukiyo-e Woodblock Print</option>
                            <option value="Low-Poly 3D Render (Retro aesthetic)">Low-Poly 3D Render (Retro aesthetic)</option>
                            <option value="Watercolor Painting (Soft, diffused edges)">Watercolor Painting (Soft, diffused edges)</option>
                            <option value="Art Nouveau (Curving, organic lines)">Art Nouveau (Curving, organic lines)</option>
                            <option value="Pixel Art (16-bit retro style)">Pixel Art (16-bit retro style)</option>
                            <option value="Sculptural Claymation (Tactile texture)">Sculptural Claymation (Tactile texture)</option>
                            <option value="Cubism (Geometric forms and fragmented reality)">Cubism (Geometric forms and fragmented reality)</option>
                            <option value="Expressionism (Distorted reality for emotional effect)">Expressionism (Distorted reality for emotional effect)</option>
                            <option value="Modernism (Clean lines, focus on function)">Modernism (Clean lines, focus on function)</option>
                            <option value="Bauhaus Poster Design (Bold geometry, primary colors)">Bauhaus Poster Design (Bold geometry, primary colors)</option>
                            <option value="Surrealist Photography">Surrealist Photography</option>
                        </select>
                        <input type="text" id="style-custom" placeholder="... or type your own style/medium here" class="mt-2 w-full p-3 border rounded-lg shadow-inner">
                    </div>

                    <!-- 4A. Comic Book/Publisher Style -->
                    <div>
                        <label for="comic_style" class="block text-xl font-medium mb-1 text-gray-200">4A. Comic Book/Publisher Style (Optional)</label>
                        <p class="text-gray-400 text-sm mb-2">Refine the art using the aesthetic of a specific publisher.</p>
                        <select id="comic_style" class="w-full p-3 border rounded-lg shadow-inner focus:ring focus:ring-indigo-500 appearance-none bg-no-repeat bg-[right_0.75rem_center] bg-[url('data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M10%2014l-4-4h8l-4%204z%22%20fill%3D%22%236366F1%22%2F%3E%3C%2Fsvg%3E')]">
                            <option value="">‚Äî Select a Comic Style/Publisher ‚Äî</option>
                            <option value="in the style of Marvel Comics">Marvel Comics</option>
                            <option value="in the style of DC Comics">DC Comics</option>
                            <option value="in the style of Image Comics">Image Comics</option>
                            <option value="in the style of Dark Horse Comics">Dark Horse Comics</option>
                            <option value="in the style of IDW Publishing">IDW Publishing</option>
                            <option value="in the style of Dynamite Entertainment">Dynamite Entertainment</option>
                            <option value="in the style of Valiant Comics">Valiant Comics</option>
                            <option value="in the style of BOOM! Studios">BOOM! Studios</option>
                            <option value="in the style of Archie Comics">Archie Comics</option>
                            <option value="in the style of Titan Comics">Titan Comics</option>
                            <option value="in the style of Oni Press">Oni Press</option>
                            <option value="in the style of Fantagraphics">Fantagraphics</option>
                            <option value="in the style of Vertical Comics">Vertical Comics</option>
                            <option value="in the style of Kodansha Comics">Kodansha Comics</option>
                            <option value="in the style of Viz Media">Viz Media</option>
                            <option value="in the style of CrossGen">CrossGen</option>
                            <option value="in the style of Mad Cave Studios">Mad Cave Studios</option>
                            <option value="in the style of AfterShock Comics">AfterShock Comics</option>
                            <option value="in the style of Humanoids">Humanoids</option>
                            <option value="in the style of Scout Comics">Scout Comics</option>
                        </select>
                    </div>

                    <!-- 4B. Style Mixer/Artist -->
                    <div>
                        <label for="artist" class="block text-xl font-medium mb-1 text-gray-200">4B. Style Mixer/Aesthetic (Optional)</label>
                        <p class="text-gray-400 text-sm mb-2">Blend with the style of a master artist or a modern digital aesthetic (e.g., AFROPUNK, Lo-Fi).</p>
                        <select id="artist" class="w-full p-3 border rounded-lg shadow-inner focus:ring focus:ring-indigo-500 appearance-none bg-no-repeat bg-[right_0.75rem_center] bg-[url('data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M10%2014l-4-4h8l-4%204z%22%20fill%3D%22%236366F1%22%2F%3E%3C%2Fsvg%3E')]">
                            <option value="">‚Äî Select an Artist or Aesthetic ‚Äî</option>
                            <!-- Artists -->
                            <option value="in the style of Leonardo da Vinci">Leonardo da Vinci</option>
                            <option value="in the style of Michelangelo">Michelangelo</option>
                            <option value="in the style of Raphael">Raphael</option>
                            <option value="in the style of Vincent van Gogh">Vincent van Gogh</option>
                            <option value="in the style of Sandro Botticelli">Sandro Botticelli</option>
                            <option value="in the style of Jan van Eyck">Jan van Eyck</option>
                            <option value="in the style of Claude Monet">Claude Monet</option>
                            <option value="in the style of Paul Cezanne">Paul Cezanne</option>
                            <option value="in the style of Gustav Klimt">Gustav Klimt</option>
                            <option value="in the style of Salvador Dali">Salvador Dali</option>
                            <option value="in the style of Pablo Picasso">Pablo Picasso</option>
                            <option value="in the style of Andy Warhol">Andy Warhol</option>
                            <option value="in the style of Bob Ross">Bob Ross</option>
                            <option value="in the style of Henri Matisse">Henri Matisse</option>
                            <option value="in the style of Frida Kahlo">Frida Kahlo</option>
                            <option value="in the style of Jackson Pollock">Jackson Pollock</option>
                            <option value="in the style of Rene Magritte">Rene Magritte</option>
                            <option value="in the style of Wassily Kandinsky">Wassily Kandinsky</option>
                            <!-- Aesthetics -->
                            <option value="with an AFROPUNK aesthetic">AFROPUNK</option>
                            <option value="with a Cyberpop aesthetic">Cyberpop</option>
                            <option value="with a Clowncore aesthetic">Clowncore</option>
                            <option value="with a Constructivism aesthetic">Constructivism</option>
                            <option value="with a Country aesthetic">Country</option>
                            <option value="with a Cyber Fairy Grunge aesthetic">Cyber Fairy Grunge</option>
                            <option value="with a Cyberdellic aesthetic">Cyberdellic</option>
                            <option value="with a Cybergoth aesthetic">Cybergoth</option>
                            <option value="with a Cybergrunge aesthetic">Cybergrunge</option>
                            <option value="with a Cyberpunk aesthetic">Cyberpunk</option>
                            <option value="with a City Pop aesthetic">City Pop</option>
                            <option value="with an Earthcore aesthetic">Earthcore</option>
                            <option value="with an Electro Swing aesthetic">Electro Swing</option>
                            <option value="with an Electropop aesthetic">Electropop</option>
                            <option value="with an Emo aesthetic">Emo</option>
                            <option value="with an Ethereal aesthetic">Ethereal</option>
                            <option value="with a Kawaii aesthetic">Kawaii</option>
                            <option value="with a Lightning Wave aesthetic">Lightning Wave</option>
                            <option value="with a Lo-Fi aesthetic">Lo-Fi</option>
                            <option value="with a LoveCore aesthetic">LoveCore</option>
                            <option value="with a LunarPunk aesthetic">LunarPunk</option>
                            <option value="with a Mad Scientist aesthetic">Mad Scientist</option>
                            <option value="with a Maximalism aesthetic">Maximalism</option>
                            <option value="with a Medieval aesthetic">Medieval</option>
                            <option value="with a Metalcore aesthetic">Metalcore</option>
                            <option value="with a Miami aesthetic">Miami</option>
                            <option value="with a Midwest Emo aesthetic">Midwest Emo</option>
                            <option value="with a Minimalism aesthetic">Minimalism</option>
                            <option value="with a Moderism aesthetic">Modernism</option>
                            <option value="with an Ocean Grunge aesthetic">Ocean Grunge</option>
                            <option value="with an Instagram Model aesthetic">Instagram Model</option>
                            <option value="with an Acid Pixie aesthetic">Acid Pixie</option>
                            <option value="with an Acid Wave aesthetic">Acid Wave</option>
                            <option value="with an Adventure Core aesthetic">Adventure Core</option>
                            <option value="with an Ancient Egypt aesthetic">Ancient Egypt</option>
                            <option value="with an Antique Grunge aesthetic">Antique Grunge</option>
                        </select>
                        <input type="text" id="artist-custom" placeholder="... or type your own artist/aesthetic here" class="mt-2 w-full p-3 border rounded-lg shadow-inner">
                    </div>


                    <!-- 5. Camera Angle/Composition -->
                    <div>
                        <label for="camera_angle" class="block text-xl font-medium mb-1 text-gray-200">5. Camera Angle/Composition <span class="text-red-400">*</span></label>
                        <p class="text-gray-400 text-sm mb-2">How is the scene framed?</p>
                        <select id="camera_angle" class="w-full p-3 border rounded-lg shadow-inner focus:ring focus:ring-indigo-500 appearance-none bg-no-repeat bg-[right_0.75rem_center] bg-[url('data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M10%2014l-4-4h8l-4%204z%22%20fill%3D%22%236366F1%22%2F%3E%3C%2Fsvg%3E')]">
                            <option value="">‚Äî Select a Camera Angle/Composition ‚Äî</option>
                            <option value="Wide Shot">Wide Shot (Showing the full environment)</option>
                            <option value="Close-Up">Close-Up (Focusing on the face or detail)</option>
                            <option value="Dutch Angle">Dutch Angle (Tilted for unease or dynamism)</option>
                            <option value="Low-Angle Shot">Low-Angle Shot (Making the subject appear powerful)</option>
                            <option value="Aerial View (Top-down)">Aerial View (Top-down, drone perspective)</option>
                            <option value="Extreme Close-up">Extreme Close-up (Focusing intensely on one small feature)</option>
                            <option value="Medium Shot">Medium Shot (Subject from the waist up)</option>
                            <option value="Over the Shoulder">Over the Shoulder (Framed from behind another character)</option>
                            <option value="Rule of Thirds Composition">Rule of Thirds Composition (Balanced framing)</option>
                            <option value="Symmetry Composition">Symmetry Composition (Mirror-like balance)</option>
                            <option value="Worm's-Eye View">Worm's-Eye View (Looking up from the ground)</option>
                            <option value="High Angle Shot">High Angle Shot (Looking down, making subject seem vulnerable)</option>
                            <option value="Eye-Level Shot">Eye-Level Shot (Standard, neutral perspective)</option>
                            <option value="Hip Level Shot">Hip Level Shot</option>
                            <option value="Knee Level Shot">Knee Level Shot</option>
                            <option value="Ground Level Shot">Ground Level Shot</option>
                            <option value="Shoulder-Level Shot">Shoulder-Level Shot</option>
                            <option value="Oblique Angle">Oblique Angle</option>
                            <option value="Three-Quarter View">Three-Quarter View</option>
                            <option value="Front View">Front View</option>
                            <option value="Rear View">Rear View</option>
                            <option value="Side View">Side View</option>
                            <option value="Underwater View">Underwater View</option>
                            <option value="Panoramic View">Panoramic View</option>
                            <option value="Wide-Angle View">Wide-Angle View</option>
                            <option value="Zoom View">Zoom View</option>
                        </select>
                        <input type="text" id="camera_angle-custom" placeholder="... or type your own angle/composition here" class="mt-2 w-full p-3 border rounded-lg shadow-inner">
                    </div>

                    <!-- 6. Lighting/Ambiance -->
                    <div>
                        <label for="lighting" class="block text-xl font-medium mb-1 text-gray-200">6. Lighting/Ambiance <span class="text-red-400">*</span></label>
                        <p class="text-gray-400 text-sm mb-2">How does the light look, and what is the overall color tone?</p>
                        <select id="lighting" class="w-full p-3 border rounded-lg shadow-inner focus:ring focus:ring-indigo-500 appearance-none bg-no-repeat bg-[right_0.75rem_center] bg-[url('data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M10%2014l-4-4h8l-4%204z%22%20fill%3D%22%236366F1%22%2F%3E%3C%2Fsvg%3E')]">
                            <option value="">‚Äî Select a Lighting/Ambiance ‚Äî</option>
                            <option value="Volumetric Lighting (Dramatic light shafts)">Volumetric Lighting (Dramatic light shafts)</option>
                            <option value="Rim Lighting (Bright outline on the subject)">Rim Lighting (Bright outline on the subject)</option>
                            <option value="Warm Golden Hour">Warm Golden Hour (Soft, low, golden sunlight)</option>
                            <option value="Cool Blue Moonlight">Cool Blue Moonlight (High contrast, cold tones)</option>
                            <option value="Harsh Fluorescent Light">Harsh Fluorescent Light (Washed-out, clinical feel)</option>
                            <option value="Soft, Diffused Lighting">Soft, Diffused Lighting (No harsh shadows, gentle look)</option>
                            <option value="Backlighting (Subject is silhouetted)">Backlighting (Subject is silhouetted)</option>
                            <option value="Cinematic Lighting (High-key, studio setup)">Cinematic Lighting (High-key, studio setup)</option>
                            <option value="Neon Glow">Neon Glow (Vibrant, colorful reflections)</option>
                            <option value="God Rays (Light breaking through clouds or canopy)">God Rays (Light breaking through clouds or canopy)</option>
                            <option value="Caustic Light (Light reflected through water)">Caustic Light (Light reflected through water)</option>
                            <option value="Chiaroscuro (Dramatic contrast of light and dark)">Chiaroscuro (Dramatic contrast of light and dark)</option>
                            <option value="Lens Flare">Lens Flare (Optical effect from bright light source)</option>
                            <option value="Spotlight">Spotlight (Focused beam of light)</option>
                            <option value="Moody, Low-Key Lighting">Moody, Low-Key Lighting (Mostly shadows, dark ambiance)</option>
                        </select>
                        <input type="text" id="lighting-custom" placeholder="... or type your own lighting/ambiance here" class="mt-2 w-full p-3 border rounded-lg shadow-inner">
                    </div>

                    <!-- 7. Mood/Atmosphere -->
                    <div>
                        <label for="mood" class="block text-xl font-medium mb-1 text-gray-200">7. Mood/Atmosphere <span class="text-red-400">*</span></label>
                        <p class="text-gray-400 text-sm mb-2">What feeling should the final output evoke?</p>
                        <select id="mood" class="w-full p-3 border rounded-lg shadow-inner focus:ring focus:ring-indigo-500 appearance-none bg-no-repeat bg-[right_0.75rem_center] bg-[url('data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M10%2014l-4-4h8l-4%204z%22%20fill%3D%22%236366F1%22%2F%3E%3C%2Fsvg%3E')]">
                            <option value="">‚Äî Select a Mood/Atmosphere ‚Äî</option>
                            <option value="Eerie and Suspenseful">Eerie and Suspenseful</option>
                            <option value="Calm and Reflective">Calm and Reflective</option>
                            <option value="Joyful and Energetic">Joyful and Energetic</option>
                            <option value="Epic and Grandiose">Epic and Grandiose</option>
                            <option value="Melancholic and Solemn">Melancholic and Solemn</option>
                            <option value="Nostalgic and Warm">Nostalgic and Warm</option>
                            <option value="Ominous and Silent">Ominous and Silent</option>
                            <option value="Whimsical and Playful">Whimsical and Playful</option>
                            <option value="Tense and Frantic">Tense and Frantic</option>
                            <option value="Peaceful and Serene">Peaceful and Serene</option>
                            <option value="Mysterious and Intricate">Mysterious and Intricate</option>
                            <option value="Vibrant and Electric">Vibrant and Electric</option>
                            <option value="Dark and Brooding">Dark and Brooding</option>
                            <option value="Awe-Inspiring and Vast">Awe-Inspiring and Vast</option>
                            <option value="Dreamlike and Surreal">Dreamlike and Surreal</option>
                        </select>
                        <input type="text" id="mood-custom" placeholder="... or type your own mood/atmosphere here" class="mt-2 w-full p-3 border rounded-lg shadow-inner">
                    </div>

                    <!-- 8. Aspect Ratio/Format -->
                    <div>
                        <label for="aspect_ratio" class="block text-xl font-medium mb-1 text-gray-200">8. Aspect Ratio/Format <span class="text-red-400">*</span></label>
                        <p class="text-gray-400 text-sm mb-2">Select the desired screen ratio for the final output.</p>
                        <select id="aspect_ratio" class="w-full p-3 border rounded-lg shadow-inner focus:ring focus:ring-indigo-500 appearance-none bg-no-repeat bg-[right_0.75rem_center] bg-[url('data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M10%2014l-4-4h8l-4%204z%22%20fill%3D%22%236366F1%22%2F%3E%3C%2Fsvg%3E')]">
                            <option value="">‚Äî Select an Aspect Ratio ‚Äî</option>
                            <option value="16:9 cinematic aspect ratio">16:9 (Standard Widescreen / Video)</option>
                            <option value="4:3 aspect ratio">4:3 (Classic TV / Retro)</option>
                            <option value="21:9 anamorphic aspect ratio">21:9 (Ultra Widescreen / Super Cinematic)</option>
                            <option value="1:1 square aspect ratio">1:1 (Square / Social Media)</option>
                            <option value="9:16 vertical aspect ratio">9:16 (Vertical / Mobile Story)</option>
                            <option value="3:2 aspect ratio">3:2 (Standard Photography)</option>
                            <option value="5:4 aspect ratio">5:4 (Medium Format Photography)</option>
                        </select>
                        <input type="text" id="aspect_ratio-custom" placeholder="... or type your own aspect ratio here (e.g., 2:3)" class="mt-2 w-full p-3 border rounded-lg shadow-inner">
                    </div>

                    <!-- 9. Camera Movement (REQUIRED for Scene/Video) -->
                    <div id="camera-movement-group" class="hidden">
                        <label for="camera_movement" class="block text-xl font-medium mb-1 text-gray-200">9. Camera Movement <span class="text-red-400">*</span></label>
                        <p class="text-gray-400 text-sm mb-2">Specify the camera's motion path. (REQUIRED for Scene/Video)</p>
                        <select id="camera_movement" class="w-full p-3 border rounded-lg shadow-inner focus:ring focus:ring-indigo-500 appearance-none bg-no-repeat bg-[right_0.75rem_center] bg-[url('data:image/svg+4xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M10%2014l-4-4h8l-4%204z%22%20fill%3D%22%236366F1%22%2F%3E%3C%2Fsvg%3E')]">
                            <option value="">‚Äî Select a Camera Movement ‚Äî</option>
                            <option value="Dolly Zoom (Vertigo Effect)">Dolly Zoom (Vertigo Effect)</option>
                            <option value="Tracking Shot (Smoothly following the subject)">Tracking Shot (Smoothly following the subject)</option>
                            <option value="Orbit Shot (Circling the subject)">Orbit Shot (Circling the subject)</option>
                            <option value="Handheld POV (Shaky, immediate feel)">Handheld POV (Shaky, immediate feel)</option>
                            <option value="Pan Left/Right (Static pivot)">Pan Left/Right (Static pivot)</option>
                            <option value="Tilt Up/Down (Static pivot)">Tilt Up/Down (Static pivot)</option>
                            <option value="Smooth Steadicam Shot">Smooth Steadicam Shot</option>
                            <option value="Jib Crane Descending">Jib Crane Descending</option>
                            <option value="Rack Focus (Changing focus depth)">Rack Focus (Changing focus depth)</option>
                            <option value="Time-lapse View">Time-lapse View (Compressed time)</option>
                            <option value="Whip Pan (Fast horizontal blur)">Whip Pan (Fast horizontal blur)</option>
                            <option value="Spiral Crane Shot">Spiral Crane Shot (Moving up and around)</option>
                            <option value="Boom Shot (Moving vertically)">Boom Shot (Moving vertically)</option>
                            <option value="Reverse Dolly (Moving away from the subject)">Reverse Dolly (Moving away from the subject)</option>
                            <option value="Push-In (Slowly moving towards the subject)">Push-In (Slowly moving towards the subject)</option>
                            <option value="Static, locked-down camera">Static, locked-down camera (No movement)</option>
                        </select>
                        <input type="text" id="camera_movement-custom" placeholder="... or type your own camera movement here" class="mt-2 w-full p-3 border rounded-lg shadow-inner">
                    </div>
                    
                    <!-- 10. Technical Modifiers -->
                    <div>
                        <label for="technical" class="block text-xl font-medium mb-1 text-gray-200">10. Technical Modifiers (Optional)</label>
                        <p class="text-gray-400 text-sm mb-2">Add high-impact keywords for rendering quality or effects.</p>
                        <select id="technical" class="w-full p-3 border rounded-lg shadow-inner focus:ring focus:ring-indigo-500 appearance-none bg-no-repeat bg-[right_0.75rem_center] bg-[url('data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%3E%3Cpath%20d%3D%22M10%2014l-4-4h8l-4%204z%22%20fill%3D%236366F1%22%2F%3E%3C%2Fsvg%3E')]">
                            <option value="">‚Äî Select a Technical Modifier ‚Äî</option>
                            <option value="Unreal Engine 5 Render">Unreal Engine 5 Render</option>
                            <option value="Octane Render">Octane Render</option>
                            <option value="ZBrush Sculpt">ZBrush Sculpt (Digital sculpting look)</option>
                            <option value="Subsurface Scattering">Subsurface Scattering (Realistic light under skin/wax)</option>
                            <option value="Chromatic Aberration">Chromatic Aberration (Color fringing effect)</option>
                            <option value="Depth of Field">Depth of Field (Blurry background, sharp foreground)</option>
                            <option value="Hyper-realistic texture detail">Hyper-realistic texture detail</option>
                            <option value="8K photorealistic">8K photorealistic (Extreme resolution)</option>
                            <option value="Cinematic film grain">Cinematic film grain</option>
                            <option value="Detailed matte painting">Detailed matte painting</option>
                            <option value="Photobashing technique">Photobashing technique</option>
                            <option value="Highly detailed environment design">Highly detailed environment design</option>
                            <option value="High contrast ratios">High contrast ratios</option>
                            <option value="Negative Space Composition">Negative Space Composition (Minimalist)</option>
                            <option value="Concept design sketch">Concept design sketch</option>
                        </select>
                        <input type="text" id="technical-custom" placeholder="... or type your own technical modifier here" class="mt-2 w-full p-3 border rounded-lg shadow-inner">
                    </div>


                    <div class="mt-8">
                        <p id="error-message" class="error-message text-center mb-4 hidden"></p>
                        <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-extrabold py-4 px-6 rounded-lg shadow-lg transition duration-200 text-xl">
                            ‚ú® Generate Final Prompt
                        </button>
                    </div>

                </form>
            </section>

            <hr class="border-t border-indigo-500/30 my-8">

            <!-- Step 3: Synthesis and Output -->
            <section id="step-3" class="hidden">
                <h2 class="text-2xl font-bold mb-4 text-indigo-400">Step 3: Review and Output</h2>

                <div class="bg-indigo-900/20 p-4 rounded-lg mb-6 border border-indigo-600/50">
                    <h3 class="text-xl font-semibold mb-2 text-indigo-300">Your Synthesized Prompt (Base)</h3>
                    <textarea id="synthesized-prompt" class="w-full h-32 p-3 text-lg font-mono rounded-lg border bg-gray-900 text-white" readonly></textarea>
                    <div class="flex flex-col sm:flex-row justify-between items-center mt-3">
                        <p id="copy-message-synth" class="confirmation-message text-green-400 font-medium"></p>
                        <button id="copy-button-synth" onclick="copyToClipboard('synthesized-prompt', 'copy-message-synth')" class="bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg transition duration-200 mt-2 sm:mt-0">
                            Copy Base Prompt
                        </button>
                    </div>
                </div>

                <!-- Manual Enhancement Tips -->
                <div class="mt-8">
                    <h3 class="text-xl font-semibold mb-3 text-yellow-400">Manual Enhancement Tip (Recommended)</h3>
                    <p class="text-gray-300 mb-4">To maximize quality, append high-impact **Quality Keywords** to your base prompt and include a **Negative Prompt** (exclusion list) in the model's settings.</p>

                    <!-- POSITIVE KEYWORDS -->
                    <div class="bg-gray-800 p-4 rounded-lg mb-4">
                        <h4 class="text-lg font-medium text-green-300 mb-2">‚ú® Quality & Detail Keywords (Add to Prompt End)</h4>
                        <p class="text-sm font-mono text-gray-200">
                            **Quality:** 8k photorealistic, hyperdetailed, cinematic, highly intricate detail, volumetric light, subsurface scattering, extreme texture detail, unreal engine 5 render, octane render, zbrush sculpt.
                            <br><br>
                            **Cinematic/Camera:** shallow depth of field, anamorphic lens flare, high contrast ratios, negative space composition, film noir, moody lighting, bokeh.
                        </p>
                    </div>
                    
                    <!-- NEGATIVE KEYWORDS -->
                    <div class="bg-gray-800 p-4 rounded-lg">
                        <h4 class="text-lg font-medium text-red-300 mb-2">üö´ Negative Prompt (Exclusion List)</h4>
                        <p class="text-sm font-mono text-gray-200">
                            **General:** low quality, worst quality, blurry, fuzzy, noise, cropped, distorted, bad anatomy, deformed, mutated, tiling, jpeg artifacts, monochrome.
                            <br><br>
                            **Style/Error:** signature, watermark, logo, text, duplicate, flat color, border, drawing, cartoon, scribble.
                        </p>
                    </div>
                </div>

            </section>
        </main>
    </div>

    <script>
        // Store selected goal globally
        let outputGoal = '';

        // --- Core Functions ---

        function setGoal(goal) {
            outputGoal = goal;
            document.getElementById('step-2-goal').textContent = goal;

            // Highlight the selected button
            document.getElementById('goal-image').classList.remove('bg-indigo-800', 'border-4', 'border-white');
            document.getElementById('goal-scene').classList.remove('bg-indigo-800', 'border-4', 'border-white');
            
            if (goal === 'Image') {
                document.getElementById('goal-image').classList.add('bg-indigo-800', 'border-4', 'border-white');
                document.getElementById('goal-scene').classList.remove('bg-indigo-800');
                document.getElementById('action-instruction').textContent = 'What is the subject doing? (Optional for Image)';
                document.getElementById('camera-movement-group').classList.add('hidden');
                document.getElementById('action').required = false;
            } else { // Scene/Video
                document.getElementById('goal-scene').classList.add('bg-indigo-800', 'border-4', 'border-white');
                document.getElementById('goal-image').classList.remove('bg-indigo-800');
                document.getElementById('action-instruction').textContent = 'What is the subject doing? (REQUIRED for Scene/Video)';
                document.getElementById('camera-movement-group').classList.remove('hidden');
                document.getElementById('action').required = true;
            }

            document.getElementById('goal-message').textContent = `Goal set: ${goal}. Please proceed to Step 2.`;
            document.getElementById('goal-message').classList.remove('hidden');
            document.getElementById('step-2').classList.remove('hidden');
            document.getElementById('step-3').classList.add('hidden'); // Hide output if goal changes
            document.getElementById('error-message').classList.add('hidden');
        }

        function getInputValue(selectId, customId) {
            const select = document.getElementById(selectId);
            const custom = document.getElementById(customId);

            if (custom && custom.value.trim() !== '') {
                return custom.value.trim();
            }
            if (select && select.value.trim() !== '') {
                return select.value.trim();
            }
            return '';
        }

        function generatePrompt(event) {
            event.preventDefault();

            const errorMessage = document.getElementById('error-message');
            errorMessage.classList.add('hidden');
            
            // Collect all parameter values
            const params = {
                subject: getInputValue('subject', 'subject-custom'),
                action: getInputValue('action', 'action-custom'),
                scenery: getInputValue('scenery', 'scenery-custom'),
                style: getInputValue('style', 'style-custom'),
                comic_style: getInputValue('comic_style', ''),
                artist: getInputValue('artist', 'artist-custom'),
                camera_angle: getInputValue('camera_angle', 'camera_angle-custom'),
                lighting: getInputValue('lighting', 'lighting-custom'),
                mood: getInputValue('mood', 'mood-custom'),
                aspect_ratio: getInputValue('aspect_ratio', 'aspect_ratio-custom'),
                camera_movement: getInputValue('camera_movement', 'camera_movement-custom')
            };

            // --- Validation ---
            let requiredFields = ['subject', 'scenery', 'style', 'lighting', 'mood', 'aspect_ratio'];
            if (outputGoal === 'Scene/Video') {
                requiredFields.push('action', 'camera_movement');
            }

            for (const field of requiredFields) {
                // Check if the value is empty using the utility function getInputValue, which already
                // prioritizes the custom field.
                if (!params[field]) {
                    errorMessage.textContent = `Error: The '${field}' field is required for a ${outputGoal} prompt.`;
                    errorMessage.classList.remove('hidden');
                    return;
                }
            }

            // --- Synthesis ---
            let parts = [];

            // 1. Composition/Angle
            if (params.camera_angle) {
                parts.push(params.camera_angle);
            }

            // 2. Camera Movement (Video only)
            if (outputGoal === 'Scene/Video' && params.camera_movement) {
                parts.push(params.camera_movement);
            }
            
            // 3. Subject, Action, and Context
            const subjectActionContext = `${params.subject}, ${params.action} in a ${params.scenery} setting.`;
            parts.push(subjectActionContext);

            // 4. Lighting, Mood, Style
            let aestheticParts = [];
            
            // Lighting and Mood
            aestheticParts.push(`The scene is illuminated with ${params.lighting} to create a ${params.mood} feel.`);

            // Primary Style
            aestheticParts.push(params.style);

            // Comic Style
            if (params.comic_style) {
                 aestheticParts.push(params.comic_style);
            }
            
            // Artist/Aesthetic Mixer
            if (params.artist) {
                aestheticParts.push(params.artist);
            }

            parts.push(aestheticParts.join(', '));

            // 5. Technical and Aspect Ratio (always last)
            let finalKeywords = [];
            if (params.technical) {
                finalKeywords.push(params.technical);
            }
            finalKeywords.push(params.aspect_ratio);

            parts.push(finalKeywords.join(', '));
            
            // Final prompt assembly
            const finalPrompt = parts.filter(p => p.trim() !== '').join(' ');

            // Display result
            document.getElementById('synthesized-prompt').value = finalPrompt.trim();
            document.getElementById('step-3').classList.remove('hidden');
            window.scrollTo(0, document.body.scrollHeight); // Scroll to output
        }

        async function copyToClipboard(elementId, msgId) {
            const textToCopy = document.getElementById(elementId).value;
            const msgElement = document.getElementById(msgId);
            
            // FIX: Get the button text by using the element's ID, which is now set in the HTML.
            // The logic: replace 'message' in 'copy-message-synth' with 'button' to get 'copy-button-synth'.
            const buttonId = msgId.replace('message', 'button'); 
            const buttonTextFull = document.getElementById(buttonId).textContent;
            
            // We just need the second word ("Base") for the message "Copied Base!"
            const buttonText = buttonTextFull.split(' ')[1]; 
            
            try {
                // Use modern Clipboard API
                await navigator.clipboard.writeText(textToCopy);
                
                // Show confirmation
                msgElement.textContent = `Copied ${buttonText}!`;
                msgElement.classList.remove('opacity-0');
                
                // Hide confirmation after a delay
                setTimeout(() => {
                    msgElement.classList.add('opacity-0');
                }, 1500);

            } catch (err) {
                // Fallback for older browsers or restricted environments (like some iframes)
                const textArea = document.createElement("textarea");
                textArea.value = textToCopy;
                textArea.style.position = "fixed";
                textArea.style.top = "0";
                textArea.style.left = "0";
                textArea.style.opacity = "0";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                    
                    // Show fallback confirmation
                    msgElement.textContent = `Copied ${buttonText} (Fallback)!`;
                    msgElement.classList.remove('opacity-0');
                    
                    setTimeout(() => {
                        msgElement.classList.add('opacity-0');
                    }, 1500);

                } catch (e) {
                    console.error('Fallback copy failed:', e);
                    msgElement.textContent = `Copy failed. Please copy manually.`;
                    msgElement.classList.remove('opacity-0');
                    setTimeout(() => {
                        msgElement.classList.add('opacity-0');
                    }, 3000);
                }
                document.body.removeChild(textArea);
            }
        }

        // Initialize default state
        document.addEventListener('DOMContentLoaded', () => {
            setGoal('Image'); // Default to Image mode on load
        });
    </script>
</body>
</html>
